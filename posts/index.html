<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>posts | deepankar.log</title><meta name=keywords content><meta name=description content="posts - deepankar.log"><meta name=author content="Deepankar Mahapatro"><link rel=canonical href=https://deepankarm.github.io/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://deepankarm.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://deepankarm.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://deepankarm.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://deepankarm.github.io/apple-touch-icon.png><link rel=mask-icon href=https://deepankarm.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://deepankarm.github.io/posts/index.xml title=rss><link rel=alternate hreflang=en href=https://deepankarm.github.io/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "09cbd7674917411283ca3c61ea31135d"}'></script><meta property="og:url" content="https://deepankarm.github.io/posts/"><meta property="og:site_name" content="deepankar.log"><meta property="og:title" content="posts"><meta property="og:description" content="Software Engineer ¬∑ AI Backends ¬∑ Python & Go"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="posts"><meta name=twitter:description content="Software Engineer ¬∑ AI Backends ¬∑ Python & Go"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://deepankarm.github.io/posts/"}]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://deepankarm.github.io/ accesskey=h title="deepankar.log (Alt + H)">deepankar.log</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://deepankarm.github.io/ title=Home><span>Home</span></a></li><li><a href=https://deepankarm.github.io/posts/ title=Posts><span class=active>Posts</span></a></li><li><a href=https://deepankarm.github.io/about/ title=About><span>About</span></a></li><li><a href=https://github.com/deepankarm title=GitHub><span>GitHub</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://www.linkedin.com/in/deepankar-mahapatro/ title=LinkedIn><span>LinkedIn</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><header class=page-header><h1>posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>TIL: Inline dependencies in Python scripts</h2></header><div class=entry-content><p>When sharing a Python script as a gist, you‚Äôd typically include a requirements.txt or a pyproject.toml with uv.lock. Multiple files for one script.
Turns out there‚Äôs a cleaner way. PEP 723 lets you embed dependencies and Python version requirements directly in the script:
# /// script # requires-python = ">=3.11" # dependencies = [ # "requests", # "rich", # ] # /// import requests from rich import print response = requests.get("https://api.github.com/zen") print(f"[bold green]{response.text}[/bold green]") Run it with uv:
...</p></div><footer class=entry-footer><span title='2026-01-13 10:00:00 +0530 +0530'>January 13, 2026</span>&nbsp;¬∑&nbsp;<span>1 min</span>&nbsp;¬∑&nbsp;<span>Deepankar Mahapatro</span></footer><a class=entry-link aria-label="post link to TIL: Inline dependencies in Python scripts" href=https://deepankarm.github.io/posts/pep-723-inline-script-metadata/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Validating LLM Outputs in Go</h2></header><div class=entry-content><p>The Problem LLMs hallucinate. They return wrong types, invalid values, and malformed data. A rating meant to be 1-5 comes back as 10. An email field contains ‚Äúnot provided‚Äù. A required field is missing entirely.
In Python, Pydantic is the standard solution - define a model, validate the output, catch errors before they crash your app. But what about Go?
godantic brings Pydantic-style validation to Go. Full JSON schema generation for LLM APIs. This post shows common patterns for validating LLM outputs in Go.
...</p></div><footer class=entry-footer><span title='2026-01-12 14:00:00 +0530 +0530'>January 12, 2026</span>&nbsp;¬∑&nbsp;<span>4 min</span>&nbsp;¬∑&nbsp;<span>Deepankar Mahapatro</span></footer><a class=entry-link aria-label="post link to Validating LLM Outputs in Go" href=https://deepankarm.github.io/posts/validating-llm-outputs-in-go/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Detecting event loop blocking in asyncio</h2></header><div class=entry-content><p>If you‚Äôre writing async Python, you‚Äôve probably blocked the event loop without knowing it. Your code runs. Your tests pass. But in production, p90 latencies spike and timeouts appear seemingly at random.
The culprit? Synchronous code hiding inside your async def functions. Python‚Äôs asyncio is cooperative. When you await something, you‚Äôre yielding control back to the event loop so other tasks can run. But if you call synchronous code, even accidentally, the entire event loop freezes. Every other coroutine waits. Every concurrent request hangs. Every other user gets blocked.
...</p></div><footer class=entry-footer><span title='2026-01-11 14:00:00 +0530 +0530'>January 11, 2026</span>&nbsp;¬∑&nbsp;<span>3 min</span>&nbsp;¬∑&nbsp;<span>Deepankar Mahapatro</span></footer><a class=entry-link aria-label="post link to Detecting event loop blocking in asyncio" href=https://deepankarm.github.io/posts/detecting-event-loop-blocking-in-asyncio/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>The OpenAI Compatibility Paradox</h2></header><div class=entry-content><p>The promise of a standardized interface for LLMs via OpenAI-compatible endpoints is compelling. In theory, it allows for a plug-and-play architecture where switching models is as trivial as changing a base_url. In practice, this compatibility is often an illusion.
I‚Äôve spent the past year building a multi-provider LLM backend, and the pattern is always the same: things work for basic text generation, then break the moment you need production-critical features.
...</p></div><footer class=entry-footer><span title='2025-12-17 18:00:00 +0530 +0530'>December 17, 2025</span>&nbsp;¬∑&nbsp;<span>9 min</span>&nbsp;¬∑&nbsp;<span>Deepankar Mahapatro</span></footer><a class=entry-link aria-label="post link to The OpenAI Compatibility Paradox" href=https://deepankarm.github.io/posts/openai-compatibility-paradox/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Streaming Partial JSON from LLMs in Go</h2></header><div class=entry-content><p>The Problem LLMs stream JSON token by token. Your structured output arrives as:
{"project": {"name": "Mo {"project": {"name": "Mobile App", "status": "in_prog {"project": {"name": "Mobile App", "status": "in_progress"}, "tasks": [{"title": "UI Redes ... Standard encoding/json fails on every chunk except the last:
json.Unmarshal([]byte(`{"project": {"name": "Mo`), &amp;result) // error: unexpected end of JSON input This was recently highlighted by swyx as a #1 or #2 performance issue in AI applications. You‚Äôre forced to wait for the complete response before showing anything to users - negating the entire point of streaming with json mode or structured output.
...</p></div><footer class=entry-footer><span title='2025-12-14 18:00:00 +0530 +0530'>December 14, 2025</span>&nbsp;¬∑&nbsp;<span>5 min</span>&nbsp;¬∑&nbsp;<span>Deepankar Mahapatro</span></footer><a class=entry-link aria-label="post link to Streaming Partial JSON from LLMs in Go" href=https://deepankarm.github.io/posts/streaming-partial-json-llm/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Jina ü§ù Linkerd</h2></header><div class=entry-content><p>Let‚Äôs discuss today about a way to debug your Executors & Flows using Linkerd service mesh.
What is a Service Mesh? From Linkerd docs
A service mesh is a tool for adding observability, security, and reliability features to ‚Äúcloud native‚Äù applications by transparently inserting this functionality at the platform layer rather than the application layer.
Few of the commonly used service meshes are Linkerd, Istio, Consul etc.
Why Linkerd? Significantly lighter than competitors. Basic request tracing with no additional config. Telemetry & monitoring exposing Golden metrics. The simplicity of its usage is mind-blowing. Just annotate the K8S Deployment, and you‚Äôre done. How does Linkerd work? While this majorly underestimates the magic Linkerd brings, here are the major components. Feel free to go through the architecture in official docs.
...</p></div><footer class=entry-footer><span title='2022-06-16 12:49:55 +0530 +0530'>June 16, 2022</span>&nbsp;¬∑&nbsp;<span>7 min</span>&nbsp;¬∑&nbsp;<span>Deepankar Mahapatro</span></footer><a class=entry-link aria-label="post link to Jina ü§ù Linkerd" href=https://deepankarm.github.io/posts/jina-linkerd/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Jina ‚ù§Ô∏è Serverless</h2></header><div class=entry-content><p>What is Jina? From the Docs
Jina is a framework that empowers anyone to build cross-modal and multi-modal applications on the cloud.
What is serverless? From Wikipedia
Serverless computing is a cloud computing execution model in which the cloud provider allocates machine resources on demand, taking care of the servers on behalf of their customers.
Also,
‚ÄúServerless‚Äù is a misnomer in the sense that servers are still used by cloud service providers to execute code for developers. However, developers of serverless applications are not concerned with capacity planning, configuration, management, maintenance, fault tolerance, or scaling of containers, VMs, or physical servers.
...</p></div><footer class=entry-footer><span title='2022-06-15 17:49:55 +0530 +0530'>June 15, 2022</span>&nbsp;¬∑&nbsp;<span>4 min</span>&nbsp;¬∑&nbsp;<span>Deepankar Mahapatro</span></footer><a class=entry-link aria-label="post link to Jina ‚ù§Ô∏è Serverless" href=https://deepankarm.github.io/posts/jina-serverless/></a></article></main><footer class=footer><span>&copy; 2026 <a href=https://deepankarm.github.io/>deepankar.log</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>